"use strict";(self["webpackChunksilverfish"]=self["webpackChunksilverfish"]||[]).push([[505],{3849:function(t,e,n){n.d(e,{Z:function(){return A}});var r=n(3396),i=n(6265),a=n.n(i),o=(n(7658),n(1474));function c(t,e,n,r,i,a,o){try{var c=t[a](o),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){c(a,r,i,o,s,"next",t)}function s(t){c(a,r,i,o,s,"throw",t)}o(void 0)}))}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h="axios-retry";function _(t){return!t.response&&Boolean(t.code)&&"ECONNABORTED"!==t.code&&o(t)}var f=["get","head","options"],E=f.concat(["put","delete"]);function p(t){return"ECONNABORTED"!==t.code&&(!t.response||t.response.status>=500&&t.response.status<=599)}function g(t){return!!t.config&&(p(t)&&-1!==f.indexOf(t.config.method))}function b(t){return!!t.config&&(p(t)&&-1!==E.indexOf(t.config.method))}function m(t){return _(t)||b(t)}function O(){return 0}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=100*Math.pow(2,t),n=.2*e*Math.random();return e+n}function T(t){var e=t[h]||{};return e.retryCount=e.retryCount||0,t[h]=e,e}function R(t,e){return l(l({},e),t[h])}function v(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}function y(t,e,n,r){return I.apply(this,arguments)}function I(){return I=s((function*(t,e,n,r){var i=n.retryCount<t&&e(r);if("object"===typeof i)try{var a=yield i;return!1!==a}catch(o){return!1}return i})),I.apply(this,arguments)}function w(t,e){t.interceptors.request.use((t=>{var e=T(t);return e.lastRequestTime=Date.now(),t})),t.interceptors.response.use(null,function(){var n=s((function*(n){var{config:r}=n;if(!r)return Promise.reject(n);var{retries:i=3,retryCondition:a=m,retryDelay:o=O,shouldResetTimeout:c=!1,onRetry:s=(()=>{})}=R(r,e),u=T(r);if(yield y(i,a,u,n)){u.retryCount+=1;var l=o(u.retryCount,n);if(v(t,r),!c&&r.timeout&&u.lastRequestTime){var d=Date.now()-u.lastRequestTime,h=r.timeout-d-l;if(h<=0)return Promise.reject(n);r.timeout=h}return r.transformRequest=[t=>t],s(u.retryCount,n,r),new Promise((e=>setTimeout((()=>e(t(r))),l)))}return Promise.reject(n)}));return function(t){return n.apply(this,arguments)}}())}w.isNetworkError=_,w.isSafeRequestError=g,w.isIdempotentRequestError=b,w.isNetworkOrIdempotentRequestError=m,w.exponentialDelay=C,w.isRetryableError=p;var D=n(4677);function A(){const t=(0,D.pm)(),e=(0,r.FN)()?.appContext.config.globalProperties.$endpoint,n=(0,r.FN)()?.appContext.config.globalProperties.$apiVersionRoute,i=`${e}${n}`,o=a().create({baseURL:`${i}/novels`}),c=a().create({baseURL:`${i}/comics`});function s(e){return new Promise(((n,r)=>o.get("",{headers:{Authorization:e}}).then((t=>t.data.success?n(t.data.data.map((t=>({...t,lastCrawlTime:new Date(t.lastCrawlTime)})))):r(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function u(e,n){return new Promise(((r,i)=>o.get(`/${n}`,{headers:{Authorization:e}}).then((t=>{if(t.data.success){const e=t.data.data;return r({isEnable:e.isEnable,novelID:e.novelID,author:e.author,description:e.description,dns:e.dns,url:e.url,title:e.title,cover_url:e.coverUrl,chapters:e.chapters,lastCrawlTime:new Date(e.lastCrawlTime)})}return i(t.data.data)})).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function l(e,n,r){return new Promise(((i,a)=>o.get(`/${n}/chapter/${r}`,{headers:{Authorization:e}}).then((t=>t.data.success?i(t.data.data):a(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function d(e){return new Promise(((n,r)=>c.get("",{headers:{Authorization:e}}).then((t=>t.data.success?n(t.data.data.map((t=>({...t,lastCrawlTime:new Date(t.lastCrawlTime)})))):r(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function h(e,n){return new Promise(((r,i)=>c.get(`/${n}`,{headers:{Authorization:e}}).then((t=>{if(t.data.success){const e=t.data.data;return r({comicID:e.comicID,author:e.author,description:e.description,dns:e.dns,url:e.url,title:e.title,cover_url:e.coverUrl,chapters:e.chapters,lastCrawlTime:new Date(e.lastCrawlTime)})}return i(t.data.data)})).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function _(e,n,r){return new Promise(((i,a)=>c.get(`/${n}/chapter/${r}`,{headers:{Authorization:e}}).then((t=>t.data.success?i(t.data.data):a(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}return w(o,{retries:3}),w(c,{retries:3}),{$endpointRoute:i,fetchNovels:s,fetchNovelByID:u,fetchNovelChapter:l,fetchComics:d,fetchComicByID:h,fetchComicChapter:_}}},1474:function(t){const e=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);t.exports=t=>!e.has(t&&t.code)},7885:function(t,e,n){n.d(e,{Z:function(){return T}});var r=n(3396),i=n(7139),a=n(9242);const o=t=>((0,r.dD)("data-v-1c5d49ef"),t=t(),(0,r.Cn)(),t),c={class:"reader-nav-buttons"},s=o((()=>(0,r._)("br",null,null,-1))),u=o((()=>(0,r._)("br",null,null,-1))),l={key:0},d=o((()=>(0,r._)("br",null,null,-1))),h=o((()=>(0,r._)("br",null,null,-1))),_=o((()=>(0,r._)("br",null,null,-1))),f=["disabled"],E=o((()=>(0,r._)("br",null,null,-1)));function p(t,e,n,o,p,g){const b=(0,r.up)("font-awesome-icon"),m=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",{id:"reader-nav",class:(0,i.C_)(["col-2 animated faster",{fadeIn:t.visible,fadeOut:!t.visible}]),onMouseenter:e[6]||(e[6]=(...e)=>t.enter&&t.enter(...e)),onFocusin:e[7]||(e[7]=(...e)=>t.enter&&t.enter(...e)),onMouseleave:e[8]||(e[8]=(...e)=>t.leave&&t.leave(...e)),onFocusout:e[9]||(e[9]=(...e)=>t.leave&&t.leave(...e))},[(0,r._)("div",c,[(0,r._)("button",{class:(0,i.C_)(["sticky-bar-el btn btn-circle btn-sm",{"btn-primary":t.lightOn,"btn-secondary":!t.lightOn}]),onClick:e[0]||(e[0]=e=>t.go(-1))},[(0,r.Wm)(b,{icon:"home"})],2),s,(0,r.Wm)(m,{to:{path:`/info/${t.type}/${t.id}`}},{default:(0,r.w5)((()=>[(0,r._)("button",{class:(0,i.C_)(["sticky-bar-el btn btn-circle btn-sm",{"btn-primary":t.lightOn,"btn-secondary":!t.lightOn}])},[(0,r.Wm)(b,{icon:"info"})],2)])),_:1},8,["to"]),u,"novel"==t.type?((0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("button",{class:(0,i.C_)(["sticky-bar-el btn btn-circle btn-sm",{"btn-primary":t.lightOn,"btn-secondary":!t.lightOn}]),onClick:e[1]||(e[1]=e=>t.changeSimplified())},(0,i.zw)(t.isTW?"TW":"CH"),3),d,(0,r._)("button",{class:(0,i.C_)(["sticky-bar-el btn-circle btn btn-sm",{"btn-primary":t.lightOn,"btn-secondary":!t.lightOn}]),onClick:e[2]||(e[2]=e=>t.changeLight())},[t.lightOn?((0,r.wg)(),(0,r.j4)(b,{key:0,icon:["fa","lightbulb"]})):(0,r.kq)("",!0),t.lightOn?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(b,{key:1,icon:["far","lightbulb"]}))],2),h,(0,r._)("button",{class:(0,i.C_)(["sticky-bar-el btn btn-circle btn-sm",{"btn-primary":t.lightOn,"btn-secondary":!t.lightOn}]),onClick:e[3]||(e[3]=e=>t.changeFontSize())},(0,i.zw)(["Sm","Md","Lg","Xl"][t.fontSize-1]),3),_])):(0,r.kq)("",!0),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{class:(0,i.C_)(["sticky-bar-el chapter-text form-control form-control-sm",{"bg-white":t.lightOn,"text-dark":t.lightOn,"bg-dark":!t.lightOn,"text-white":!t.lightOn}]),maxlength:"5","onUpdate:modelValue":e[4]||(e[4]=e=>t.index=e)},null,2),[[a.nr,t.index]]),(0,r._)("button",{class:(0,i.C_)(["sticky-bar-el btn btn-circle btn-sm",{"btn-primary":t.lightOn,"btn-secondary":!t.lightOn}]),onClick:e[5]||(e[5]=e=>t.changeIndex()),disabled:0===t.chapterLength},[(0,r.Wm)(b,{icon:"arrow-right"})],10,f),E])])],34)}var g=n(4870),b=n(2483),m=(0,r.aZ)({props:["type","id","isTW","lightOn","fontSize","currentIndex","chapterLength"],setup(t,{emit:e}){const n=(0,b.tv)(),i=(0,g.iH)(!1),a=(0,g.iH)(0);(0,r.bv)((()=>{a.value=t.currentIndex})),(0,r.YP)((()=>t.currentIndex),(t=>{a.value=t}));const{go:o}=n,c=()=>{i.value=!0},s=()=>{i.value=!1},u=()=>{e("changeSimplified",!t.isTW)},l=()=>{e("changeLight",!t.lightOn)},d=()=>{e("changeFontSize",4===t.fontSize?1:t.fontSize+1)},h=()=>{e("changeIndex",a.value)};return{visible:i,index:a,go:o,enter:c,leave:s,changeSimplified:u,changeLight:l,changeFontSize:d,changeIndex:h}}}),O=n(89);const C=(0,O.Z)(m,[["render",p],["__scopeId","data-v-1c5d49ef"]]);var T=C}}]);
//# sourceMappingURL=505.32989eb0.js.map