(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin"],{da17:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container",style:{"min-height":t.$root.$data.withFootHeight+"px"},attrs:{id:"content"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-8 offset-2 col-md-8 offset-md-2"},[o("h5",[t._v("Novels")]),o("div",{staticClass:"row"},[o("div",{staticClass:"col col-4"},t._l(t.fetchers.novels,(function(e){return o("div",{key:e},[o("a",{attrs:{href:"http://"+e,target:"_blank"}},[t._v(t._s(e))]),o("br")])})),0),o("div",{staticClass:"col"},[o("div",{staticClass:"input-group mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.addNovelUrl,expression:"addNovelUrl"}],staticClass:"form-control",domProps:{value:t.addNovelUrl},on:{input:function(e){e.target.composing||(t.addNovelUrl=e.target.value)}}}),o("button",{staticClass:"btn-sm btn-color-1",attrs:{disabled:""==t.addNovelUrl,type:"button"},on:{click:t.addNovel}},[o("font-awesome-icon",{attrs:{icon:"arrow-circle-right"}}),t._v(" Add\n            ")],1)]),o("div",{staticClass:"input-group mb-3"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.deleteNovelID,expression:"deleteNovelID"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.deleteNovelID=e.target.multiple?o:o[0]}}},t._l(t.novels,(function(e){return o("option",{key:e.novelID,domProps:{value:e.novelID}},[t._v("\n                "+t._s(e.novelID+" / "+e.title+" / "+e.author)+"\n              ")])})),0),o("button",{staticClass:"btn-sm btn-color-1",attrs:{disabled:""==t.deleteNovelID,type:"button"},on:{click:t.deleteNovel}},[o("font-awesome-icon",{attrs:{icon:"arrow-circle-right"}}),t._v(" Delete\n            ")],1)])])]),o("h5",[t._v("Comics")]),o("div",{staticClass:"row"},[o("div",{staticClass:"col col-4"},t._l(t.fetchers.comics,(function(e){return o("div",{key:e},[o("a",{attrs:{href:"http://"+e,target:"_blank"}},[t._v(t._s(e))]),o("br")])})),0),o("div",{staticClass:"col"},[o("div",{staticClass:"input-group mb-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.addComicUrl,expression:"addComicUrl"}],staticClass:"form-control",domProps:{value:t.addComicUrl},on:{input:function(e){e.target.composing||(t.addComicUrl=e.target.value)}}}),o("button",{staticClass:"btn-sm btn-color-1",attrs:{disabled:""==t.addComicUrl,type:"button"},on:{click:t.addComic}},[o("font-awesome-icon",{attrs:{icon:"arrow-circle-right"}}),t._v(" Add\n            ")],1)]),o("div",{staticClass:"input-group mb-3"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.deleteComicID,expression:"deleteComicID"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.deleteComicID=e.target.multiple?o:o[0]}}},t._l(t.comics,(function(e){return o("option",{key:e.comicID,domProps:{value:e.comicID}},[t._v("\n                "+t._s(e.comicID+" / "+e.title+" / "+e.author)+"\n              ")])})),0),o("button",{staticClass:"btn-sm btn-color-1",attrs:{disabled:""==t.deleteComicID,type:"button"},on:{click:t.deleteComic}},[o("font-awesome-icon",{attrs:{icon:"arrow-circle-right"}}),t._v(" Delete\n            ")],1)])])])])])])},s=[],n=(o("96cf"),o("3b8d")),r=(o("bc3a"),{name:"admin",data:function(){return{fetchers:{},comics:[],novels:[],addNovelUrl:"",deleteNovelID:"",addComicUrl:"",deleteComicID:""}},mounted:function(){this.fetcherList()},methods:{fetcherList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$api.adminFetcherList(this.$vuex.getters.getSession()).then((function(t){e.fetchers=t.fetchers})),t.next=3,this.$api.fetchNovels(this.$vuex.getters.getSession());case 3:return this.novels=t.sent,t.next=6,this.$api.fetchComics(this.$vuex.getters.getSession());case 6:this.comics=t.sent;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addNovel:function(){var t=this;""!=this.addNovelUrl?this.$api.addNewNovel(this.$vuex.getters.getSession(),this.addNovelUrl).then((function(e){t.$toasted.info("添加成功！"),t.fetcherList(),console.log(e)})).catch((function(e){t.$toasted.error("添加失敗!"),console.error(e)})):this.$toasted.error("Novel URL不得為空.")},deleteNovel:function(){var t=this;""!=this.deleteNovelID?this.$api.deleteNovelByID(this.$vuex.getters.getSession(),this.deleteNovelID).then((function(e){t.$toasted.info("刪除成功！"),t.fetcherList(),console.log(e)})).catch((function(e){t.$toasted.error("刪除失敗!"),console.error(e)})):this.$toasted.error("Novel ID.")},addComic:function(){var t=this;""!=this.addComicUrl?this.$api.addNewComic(this.$vuex.getters.getSession(),this.addComicUrl).then((function(e){t.$toasted.info("添加成功！"),t.fetcherList(),console.log(e)})).catch((function(e){t.$toasted.error("添加失敗!"),console.error(e)})):this.$toasted.error("Comic URL不得為空.")},deleteComic:function(){var t=this;""!=this.deleteComicID?this.$api.deleteComicByID(this.$vuex.getters.getSession(),this.deleteComicID).then((function(e){t.$toasted.info("刪除成功！"),t.fetcherList(),console.log(e)})).catch((function(e){t.$toasted.error("刪除失敗!"),console.error(e)})):this.$toasted.error("Comic ID.")}}}),a=r,c=o("2877"),l=Object(c["a"])(a,i,s,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=admin.62cbb2c4.js.map