{"version":3,"file":"js/admin.69812d46.js","mappings":"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","sources":["webpack://silverfish/./src/api/fetch.ts","webpack://silverfish/./src/views/auth/VAdmin.vue?e149","webpack://silverfish/./src/api/admin.ts","webpack://silverfish/./src/views/auth/VAdmin.vue?a0e2","webpack://silverfish/./src/views/auth/VAdmin.vue"],"sourcesContent":["// src/api/fetch.ts\n/* eslint-disable no-async-promise-executor, no-promise-executor-return */\nimport { getCurrentInstance } from 'vue';\nimport axios from 'axios';\nimport { useToast } from 'vue-toastification';\n\nimport { BookInfo, Novel } from '@/api/type';\n\nexport default function () {\n  const toast = useToast();\n  const $endpoint = getCurrentInstance()?.appContext.config.globalProperties.$endpoint;\n  const $apiVersionRoute = getCurrentInstance()?.appContext.config\n    .globalProperties.$apiVersionRoute;\n\n  function endpointRoute(): string {\n    return `${$endpoint}${$apiVersionRoute}`;\n  }\n\n  function fetchNovels(session: string): Promise<Array<BookInfo>> {\n    return new Promise((resolve, reject) => axios({\n      url: `${endpointRoute()}/novels`,\n      method: 'GET',\n      headers: { Authorization: session },\n    }).then((res) => {\n      if (res.data.success) {\n        return resolve((res.data.data as Array<BookInfo>)\n          .map((each) => ({\n            ...each,\n            lastCrawlTime: new Date(each.lastCrawlTime),\n          })));\n      }\n      return reject(res.data.data);\n    }).catch((err) => toast.error(`發生錯誤: ${err.toString()}`)));\n  }\n\n  function fetchNovelByID(session: string, novelID: string): Promise<Novel> {\n    return new Promise((resolve, reject) => axios({\n      url: `${endpointRoute()}/novel`,\n      method: 'GET',\n      headers: { Authorization: session },\n      params: { novel_id: novelID },\n    }).then((res) => {\n      if (res.data.success) {\n        const novel = res.data.data;\n        return resolve({\n          isEnable: novel.isEnable,\n          novelID: novel.novelID,\n          author: novel.author,\n          description: novel.description,\n          dns: novel.dns,\n          url: novel.url,\n          title: novel.title,\n          cover_url: novel.coverUrl,\n          chapters: novel.chapters,\n          lastCrawlTime: new Date(novel.lastCrawlTime),\n        });\n      }\n      return reject(res.data.data);\n    }).catch((err) => toast.error(`發生錯誤: ${err.toString()}`)));\n  }\n\n  function fetchNovelChapter(session: string, novelID: string, chapterIndex: number): Promise<any> {\n    return new Promise((resolve, reject) => axios({\n      url: `${endpointRoute()}/chapter`,\n      method: 'GET',\n      headers: { Authorization: session },\n      params: {\n        novel_id: novelID,\n        chapter_index: chapterIndex,\n      },\n    }).then((res) => {\n      if (res.data.success) {\n        return resolve(res.data.data);\n      }\n      return reject(res.data.data);\n    }).catch((err) => toast.error(`發生錯誤: ${err.toString()}`)));\n  }\n\n  function fetchComics(session: string): Promise<Array<BookInfo>> {\n    return new Promise((resolve, reject) => axios({\n      url: `${endpointRoute()}/comics`,\n      method: 'GET',\n      headers: { Authorization: session },\n    }).then((res) => {\n      if (res.data.success) {\n        return resolve((res.data.data as Array<BookInfo>)\n          .map((each) => ({\n            ...each,\n            lastCrawlTime: new Date(each.lastCrawlTime),\n          })));\n      }\n      return reject(res.data.data);\n    }).catch((err) => toast.error(`發生錯誤: ${err.toString()}`)));\n  }\n\n  function fetchComicByID(session: string, comicID: string): Promise<any> {\n    return new Promise((resolve, reject) => axios({\n      url: `${endpointRoute()}/comic`,\n      method: 'GET',\n      headers: { Authorization: session },\n      params: { comic_id: comicID },\n    }).then((res) => {\n      if (res.data.success) {\n        const comic = res.data.data;\n        return resolve({\n          comicID: comic.comicID,\n          author: comic.author,\n          description: comic.description,\n          dns: comic.dns,\n          url: comic.url,\n          title: comic.title,\n          cover_url: comic.coverUrl,\n          chapters: comic.chapters,\n          lastCrawlTime: new Date(comic.lastCrawlTime),\n        });\n      }\n      return reject(res.data.data);\n    }).catch((err) => toast.error(`發生錯誤: ${err.toString()}`)));\n  }\n\n  function fetchComicChapter(session: string, comicID: string, chapterIndex: number): Promise<any> {\n    return new Promise((resolve, reject) => axios({\n      url: `${endpointRoute()}/comic/chapter`,\n      method: 'GET',\n      headers: { Authorization: session },\n      params: {\n        comic_id: comicID,\n        chapter_index: chapterIndex,\n      },\n    }).then((res) => {\n      if (res.data.success) {\n        return resolve(res.data.data);\n      }\n      return reject(res.data.data);\n    }).catch((err) => toast.error(`發生錯誤: ${err.toString()}`)));\n  }\n\n  return {\n    endpointRoute,\n    fetchNovels,\n    fetchNovelByID,\n    fetchNovelChapter,\n    fetchComics,\n    fetchComicByID,\n    fetchComicChapter,\n  };\n}\n","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { class: \"row\" }\nconst _hoisted_2 = { class: \"col-8 offset-2 col-md-8 offset-md-2\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h5\", null, \"Novels\", -1)\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = { class: \"col col-4\" }\nconst _hoisted_6 = [\"href\"]\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_8 = { class: \"col\" }\nconst _hoisted_9 = { class: \"input-group mb-3\" }\nconst _hoisted_10 = [\"disabled\"]\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\" Add \")\nconst _hoisted_12 = { class: \"input-group mb-3\" }\nconst _hoisted_13 = [\"value\"]\nconst _hoisted_14 = [\"disabled\"]\nconst _hoisted_15 = /*#__PURE__*/_createTextVNode(\" Delete \")\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"h5\", null, \"Comics\", -1)\nconst _hoisted_17 = { class: \"row\" }\nconst _hoisted_18 = { class: \"col col-4\" }\nconst _hoisted_19 = [\"href\"]\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_21 = { class: \"col\" }\nconst _hoisted_22 = { class: \"input-group mb-3\" }\nconst _hoisted_23 = [\"disabled\"]\nconst _hoisted_24 = /*#__PURE__*/_createTextVNode(\" Add \")\nconst _hoisted_25 = { class: \"input-group mb-3\" }\nconst _hoisted_26 = [\"value\"]\nconst _hoisted_27 = [\"disabled\"]\nconst _hoisted_28 = /*#__PURE__*/_createTextVNode(\" Delete \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: \"content\",\n    class: \"container\",\n    style: _normalizeStyle({ 'min-height': `${_ctx.withFootHeight}px` })\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _hoisted_3,\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.fetchers.novels, (each) => {\n              return (_openBlock(), _createElementBlock(\"div\", { key: each }, [\n                _createElementVNode(\"a\", {\n                  href: 'http://' + each,\n                  target: \"_blank\"\n                }, _toDisplayString(each), 9, _hoisted_6),\n                _hoisted_7\n              ]))\n            }), 128))\n          ]),\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createElementVNode(\"div\", _hoisted_9, [\n              _withDirectives(_createElementVNode(\"input\", {\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.addNovelUrl) = $event)),\n                class: \"form-control\"\n              }, null, 512), [\n                [_vModelText, _ctx.addNovelUrl]\n              ]),\n              _createElementVNode(\"button\", {\n                onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.addNovel && _ctx.addNovel(...args))),\n                disabled: _ctx.addNovelUrl === '',\n                class: \"btn-sm btn-color-1\",\n                type: \"button\"\n              }, [\n                _createVNode(_component_font_awesome_icon, { icon: \"arrow-circle-right\" }),\n                _hoisted_11\n              ], 8, _hoisted_10)\n            ]),\n            _createElementVNode(\"div\", _hoisted_12, [\n              _withDirectives(_createElementVNode(\"select\", {\n                class: \"form-control\",\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.deleteNovelID) = $event))\n              }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.novels, (novel) => {\n                  return (_openBlock(), _createElementBlock(\"option\", {\n                    key: novel.novelID,\n                    value: novel.novelID\n                  }, _toDisplayString(`${novel.novelID} / ${novel.title} / ${novel.author}`), 9, _hoisted_13))\n                }), 128))\n              ], 512), [\n                [_vModelSelect, _ctx.deleteNovelID]\n              ]),\n              _createElementVNode(\"button\", {\n                onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.deleteNovel && _ctx.deleteNovel(...args))),\n                disabled: _ctx.deleteNovelID === '',\n                class: \"btn-sm btn-color-1\",\n                type: \"button\"\n              }, [\n                _createVNode(_component_font_awesome_icon, { icon: \"arrow-circle-right\" }),\n                _hoisted_15\n              ], 8, _hoisted_14)\n            ])\n          ])\n        ]),\n        _hoisted_16,\n        _createElementVNode(\"div\", _hoisted_17, [\n          _createElementVNode(\"div\", _hoisted_18, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.fetchers.comics, (each) => {\n              return (_openBlock(), _createElementBlock(\"div\", { key: each }, [\n                _createElementVNode(\"a\", {\n                  href: 'http://' + each,\n                  target: \"_blank\"\n                }, _toDisplayString(each), 9, _hoisted_19),\n                _hoisted_20\n              ]))\n            }), 128))\n          ]),\n          _createElementVNode(\"div\", _hoisted_21, [\n            _createElementVNode(\"div\", _hoisted_22, [\n              _withDirectives(_createElementVNode(\"input\", {\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.addComicUrl) = $event)),\n                class: \"form-control\"\n              }, null, 512), [\n                [_vModelText, _ctx.addComicUrl]\n              ]),\n              _createElementVNode(\"button\", {\n                onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.addComic && _ctx.addComic(...args))),\n                disabled: _ctx.addComicUrl === '',\n                class: \"btn-sm btn-color-1\",\n                type: \"button\"\n              }, [\n                _createVNode(_component_font_awesome_icon, { icon: \"arrow-circle-right\" }),\n                _hoisted_24\n              ], 8, _hoisted_23)\n            ]),\n            _createElementVNode(\"div\", _hoisted_25, [\n              _withDirectives(_createElementVNode(\"select\", {\n                class: \"form-control\",\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.deleteComicID) = $event))\n              }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.comics, (comic) => {\n                  return (_openBlock(), _createElementBlock(\"option\", {\n                    key: comic.comicID,\n                    value: comic.comicID\n                  }, _toDisplayString(`${comic.comicID} / ${comic.title} / ${comic.author}`), 9, _hoisted_26))\n                }), 128))\n              ], 512), [\n                [_vModelSelect, _ctx.deleteComicID]\n              ]),\n              _createElementVNode(\"button\", {\n                onClick: _cache[7] || (_cache[7] = \n//@ts-ignore\n(...args) => (_ctx.deleteComic && _ctx.deleteComic(...args))),\n                disabled: _ctx.deleteComicID === '',\n                class: \"btn-sm btn-color-1\",\n                type: \"button\"\n              }, [\n                _createVNode(_component_font_awesome_icon, { icon: \"arrow-circle-right\" }),\n                _hoisted_28\n              ], 8, _hoisted_27)\n            ])\n          ])\n        ])\n      ])\n    ])\n  ], 4))\n}","// src/api/admin.ts\n/* eslint-disable no-async-promise-executor, no-promise-executor-return */\nimport { getCurrentInstance } from 'vue';\nimport { stringify } from 'qs';\nimport axios from 'axios';\nimport { useToast } from 'vue-toastification';\n\nimport fetchAPI from '@/api/fetch';\n\nexport default function () {\n  const toast = useToast();\n  const $endpoint = getCurrentInstance()?.appContext.config.globalProperties.$endpoint;\n  const { endpointRoute } = fetchAPI();\n\n  function adminFetcherList(session: string): Promise<{\n    fetchers: { comics: Array<string>; novels: Array<string>; };\n  }> {\n    return new Promise((resolve, reject) => axios({\n      url: `${$endpoint}/admin/fetchers`,\n      method: 'GET',\n      headers: { Authorization: session },\n    }).then((res) => {\n      if (res.data.success === true) {\n        return resolve(res.data.data);\n      }\n      return reject(res.data.data);\n    }).catch((err) => toast.error(`發生錯誤: ${err.toString()}`)));\n  }\n\n  function addNewNovel(session: string, targetUrl: string): Promise<any> {\n    return new Promise((resolve, reject) => axios({\n      url: `${endpointRoute()}/novel`,\n      method: 'POST',\n      headers: { Authorization: session },\n      data: stringify({ novel_url: targetUrl }),\n    }).then((res) => {\n      if (res.data.success === true) {\n        return resolve(res.data.data);\n      }\n      return reject(res.data.data);\n    }).catch((err) => toast.error(`發生錯誤: ${err.toString()}`)));\n  }\n\n  function deleteNovelByID(session: string, novelID: string): Promise<any> {\n    return new Promise((resolve, reject) => axios({\n      url: `${endpointRoute()}/novel/${novelID}`,\n      method: 'DELETE',\n      headers: { Authorization: session },\n    }).then((res) => {\n      if (res.data.success === true) {\n        return resolve(res.data.data);\n      }\n      return reject(res.data.data);\n    }).catch((err) => toast.error(`發生錯誤: ${err.toString()}`)));\n  }\n\n  function addNewComic(session: string, targetUrl: string): Promise<any> {\n    return new Promise((resolve, reject) => axios({\n      url: `${endpointRoute()}/comic`,\n      method: 'POST',\n      headers: { Authorization: session },\n      data: stringify({ comic_url: targetUrl }),\n    }).then((res) => {\n      if (res.data.success === true) {\n        return resolve(res.data.data);\n      }\n      return reject(res.data.data);\n    }).catch((err) => toast.error(`發生錯誤: ${err.toString()}`)));\n  }\n\n  function deleteComicByID(session: string, comicID: string): Promise<any> {\n    return new Promise((resolve, reject) => axios({\n      url: `${endpointRoute()}/comic/${comicID}`,\n      method: 'DELETE',\n      headers: { Authorization: session },\n    }).then((res) => {\n      if (res.data.success === true) {\n        return resolve(res.data.data);\n      }\n      return reject(res.data.data);\n    }).catch((err) => toast.error(`發生錯誤: ${err.toString()}`)));\n  }\n\n  return {\n    adminFetcherList,\n    addNewNovel,\n    deleteNovelByID,\n    addNewComic,\n    deleteComicByID,\n  };\n}\n","\nimport {\n  defineComponent, inject, onMounted, reactive, ref,\n} from 'vue';\n\nimport { useStore } from '@/store';\n\nimport adminAPI from '@/api/admin';\nimport fetchAPI from '@/api/fetch';\nimport { BookInfo } from '@/api/type';\nimport { useToast } from 'vue-toastification';\n\nexport default defineComponent({\n  setup() {\n    const toast = useToast();\n    const store = useStore();\n    const {\n      adminFetcherList,\n      addNewComic, addNewNovel,\n      deleteComicByID, deleteNovelByID,\n    } = adminAPI();\n    const { fetchComics, fetchNovels } = fetchAPI();\n    const withFootHeight = inject('withFootHeight');\n    const session = store.getters['auth/getSession'];\n    const fetchers = reactive<{ novels: Array<string>; comics: Array<string>; }>({\n      novels: [],\n      comics: [],\n    });\n    const comics = reactive<Array<BookInfo>>([]);\n    const novels = reactive<Array<BookInfo>>([]);\n    const addNovelUrl = ref('');\n    const deleteNovelID = ref('');\n    const addComicUrl = ref('');\n    const deleteComicID = ref('');\n\n    const fetcherList = async () => {\n      adminFetcherList(session).then((data) => {\n        Object.assign(fetchers.novels, data.fetchers.novels);\n        Object.assign(fetchers.comics, data.fetchers.comics);\n      });\n      Object.assign(novels, await fetchNovels(session));\n      Object.assign(comics, await fetchComics(session));\n    };\n    const addNovel = () => {\n      if (addNovelUrl.value === '') {\n        toast.error('Novel URL不得為空.');\n        return;\n      }\n      addNewNovel(session, addNovelUrl.value).then((data) => {\n        toast('添加成功！');\n        fetcherList();\n        console.log(data);\n      }).catch((errData) => {\n        toast.error('添加失敗!');\n        console.error(errData);\n      });\n    };\n    const deleteNovel = () => {\n      if (deleteNovelID.value === '') {\n        toast.error('Novel ID不得為空.');\n        return;\n      }\n      deleteNovelByID(session, deleteNovelID.value).then((data) => {\n        toast('刪除成功！');\n        fetcherList();\n        console.log(data);\n      }).catch((errData) => {\n        toast.error('刪除失敗!');\n        console.error(errData);\n      });\n    };\n    const addComic = () => {\n      if (addComicUrl.value === '') {\n        toast.error('Comic URL不得為空.');\n        return;\n      }\n      addNewComic(session, addComicUrl.value).then((data) => {\n        toast('添加成功！');\n        fetcherList();\n        console.log(data);\n      }).catch((errData) => {\n        toast.error('添加失敗!');\n        console.error(errData);\n      });\n    };\n    const deleteComic = () => {\n      if (deleteComicID.value === '') {\n        toast.error('Comic ID不得為空.');\n        return;\n      }\n      deleteComicByID(session, deleteComicID.value).then((data) => {\n        toast('刪除成功！');\n        fetcherList();\n        console.log(data);\n      }).catch((errData) => {\n        toast.error('刪除失敗!');\n        console.error(errData);\n      });\n    };\n    onMounted(() => fetcherList());\n\n    /* eslint-disable object-property-newline */\n    return {\n      withFootHeight,\n      fetchers, comics, novels,\n      addNovelUrl, deleteNovelID, addComicUrl, deleteComicID,\n      addNovel, deleteNovel, addComic, deleteComic,\n    };\n    /* eslint-enable object-property-newline */\n  },\n});\n","import { render } from \"./VAdmin.vue?vue&type=template&id=a6794024&ts=true\"\nimport script from \"./VAdmin.vue?vue&type=script&lang=ts\"\nexport * from \"./VAdmin.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/Silverfish-Vue/Silverfish-Vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["toast","useToast","$endpoint","getCurrentInstance","appContext","config","globalProperties","$apiVersionRoute","endpointRoute","fetchNovels","session","Promise","resolve","reject","axios","url","method","headers","Authorization","then","res","data","success","map","each","lastCrawlTime","Date","catch","err","error","toString","fetchNovelByID","novelID","params","novel_id","novel","isEnable","author","description","dns","title","cover_url","coverUrl","chapters","fetchNovelChapter","chapterIndex","chapter_index","fetchComics","fetchComicByID","comicID","comic_id","comic","fetchComicChapter","_hoisted_1","class","_hoisted_2","_hoisted_3","_createElementVNode","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_createTextVNode","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","render","_ctx","_cache","$props","$setup","$data","$options","_component_font_awesome_icon","_resolveComponent","_openBlock","_createElementBlock","id","style","_normalizeStyle","withFootHeight","_Fragment","_renderList","fetchers","novels","key","href","target","_toDisplayString","_withDirectives","$event","addNovelUrl","_vModelText","onClick","args","addNovel","disabled","type","_createVNode","icon","deleteNovelID","value","_vModelSelect","deleteNovel","comics","addComicUrl","addComic","deleteComicID","deleteComic","fetchAPI","adminFetcherList","addNewNovel","targetUrl","stringify","novel_url","deleteNovelByID","addNewComic","comic_url","deleteComicByID","defineComponent","setup","store","useStore","adminAPI","inject","getters","reactive","ref","fetcherList","async","Object","assign","console","log","errData","onMounted","__exports__"],"sourceRoot":""}