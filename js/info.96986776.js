"use strict";(self["webpackChunksilverfish"]=self["webpackChunksilverfish"]||[]).push([[996],{6170:function(t,e,r){r.d(e,{Z:function(){return l}});var a=r(3396),n=r(6265),o=r.n(n),i=r(4677);function l(){const t=(0,i.pm)(),e=(0,a.FN)()?.appContext.config.globalProperties.$endpoint,r=(0,a.FN)()?.appContext.config.globalProperties.$apiVersionRoute;function n(){return`${e}${r}`}function l(e){return new Promise(((r,a)=>o()({url:`${n()}/novels`,method:"GET",headers:{Authorization:e}}).then((t=>t.data.success?r(t.data.data.map((t=>({...t,lastCrawlTime:new Date(t.lastCrawlTime)})))):a(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function s(e,r){return new Promise(((a,i)=>o()({url:`${n()}/novel`,method:"GET",headers:{Authorization:e},params:{novel_id:r}}).then((t=>{if(t.data.success){const e=t.data.data;return a({isEnable:e.isEnable,novelID:e.novelID,author:e.author,description:e.description,dns:e.dns,url:e.url,title:e.title,cover_url:e.coverUrl,chapters:e.chapters,lastCrawlTime:new Date(e.lastCrawlTime)})}return i(t.data.data)})).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function c(e,r,a){return new Promise(((i,l)=>o()({url:`${n()}/chapter`,method:"GET",headers:{Authorization:e},params:{novel_id:r,chapter_index:a}}).then((t=>t.data.success?i(t.data.data):l(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function d(e){return new Promise(((r,a)=>o()({url:`${n()}/comics`,method:"GET",headers:{Authorization:e}}).then((t=>t.data.success?r(t.data.data.map((t=>({...t,lastCrawlTime:new Date(t.lastCrawlTime)})))):a(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function u(e,r){return new Promise(((a,i)=>o()({url:`${n()}/comic`,method:"GET",headers:{Authorization:e},params:{comic_id:r}}).then((t=>{if(t.data.success){const e=t.data.data;return a({comicID:e.comicID,author:e.author,description:e.description,dns:e.dns,url:e.url,title:e.title,cover_url:e.coverUrl,chapters:e.chapters,lastCrawlTime:new Date(e.lastCrawlTime)})}return i(t.data.data)})).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function h(e,r,a){return new Promise(((i,l)=>o()({url:`${n()}/comic/chapter`,method:"GET",headers:{Authorization:e},params:{comic_id:r,chapter_index:a}}).then((t=>t.data.success?i(t.data.data):l(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}return{endpointRoute:n,fetchNovels:l,fetchNovelByID:s,fetchNovelChapter:c,fetchComics:d,fetchComicByID:u,fetchComicChapter:h}}},6452:function(t,e,r){r.r(e),r.d(e,{default:function(){return W}});var a=r(3396),n=r(7139);const o=t=>((0,a.dD)("data-v-34517f62"),t=t(),(0,a.Cn)(),t),i={key:0},l=o((()=>(0,a._)("br",null,null,-1))),s={key:1,class:"row"},c={class:"col-12 col-md-2 offset-md-2"},d=["src","alt"],u={class:"col-10 offset-1 col-md-5 offset-md-0"},h={style:{"padding-top":"10px"}},m={style:{"text-align":"left"}},f={class:"d-none d-lg-block",style:{"text-align":"right"}},p=["href"],w={class:"btn-xs btn-color-2 intro"},v=(0,a.Uk)("   "),y={class:"btn-xs btn-color-1 intro"},_=o((()=>(0,a._)("br",null,null,-1))),g={class:"d-md-none",style:{"text-align":"right"}},D=["href"],C={class:"btn-xs btn-color-2 intro"},b=(0,a.Uk)(" Source "),x=(0,a.Uk)("   "),T={class:"btn-xs btn-color-1 intro"},$=o((()=>(0,a._)("br",null,null,-1))),z=o((()=>(0,a._)("hr",null,null,-1))),I={style:{"text-align":"right"}},k={style:{"padding-top":"10px","text-align":"left"}},E=o((()=>(0,a._)("br",null,null,-1))),B={class:"col-10 offset-1"},F={class:"row"};function N(t,e,r,o,N,P){const S=(0,a.up)("loading"),H=(0,a.up)("center"),A=(0,a.up)("big"),G=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)("div",{id:"content",class:"container",style:(0,n.j5)({"min-height":t.withFootHeight+"px"})},[1==t.load?((0,a.wg)(),(0,a.iD)("div",i,[l,(0,a.Wm)(H,null,{default:(0,a.w5)((()=>[(0,a.Wm)(S,{size:160})])),_:1})])):((0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",c,[(0,a._)("img",{src:t.entry.cover_url,alt:t.entry.title},null,8,d)]),(0,a._)("div",u,[(0,a._)("div",h,[(0,a._)("div",null,[(0,a._)("div",m,[(0,a.Wm)(A,{class:"btn-xs intro"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)("novel"===t.type?"小說":"漫畫"),1)])),_:1}),(0,a._)("h4",null,[(0,a._)("strong",null,(0,n.zw)(t.entry.title),1)])]),(0,a._)("div",f,[(0,a._)("a",{href:t.entry.url},[(0,a._)("small",w,(0,n.zw)(t.entry.dns),1)],8,p),v,(0,a._)("small",y,(0,n.zw)(t.formatDate(t.entry.lastCrawlTime)),1),_]),(0,a._)("div",g,[(0,a._)("a",{href:t.entry.url},[(0,a._)("small",C,[(0,a.Wm)(G,{icon:"link"}),b])],8,D),x,(0,a._)("small",T,(0,n.zw)(t.simpleFormatDate(t.entry.lastCrawlTime)),1),$])]),z,(0,a._)("h6",I,[(0,a._)("strong",null,(0,n.zw)(t.entry.author)+" / 著",1)])]),(0,a._)("div",k,[(0,a._)("p",null,(0,n.zw)(t.entry.description),1),E])]),(0,a._)("div",B,[(0,a._)("div",F,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.entry.chapters,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 offset-md-0 col-11 offset-1 left middle",style:{padding:"3px 0"},key:t.title},(0,n.zw)(t.title),1)))),128))])])]))],4)}var P=r(4870),S=r(678),H=r(3196),A=r(6170),G=r(1883),U=(0,a.aZ)({setup(){const t=(0,S.yj)(),e=(0,H.oR)(),{fetchComicByID:r,fetchNovelByID:n}=(0,A.Z)(),{formatDate:o,simpleFormatDate:i}=(0,G.Z)(),l=(0,P.iH)(!0),s=(0,P.iH)(""),c=(0,P.iH)(""),d=(0,P.qj)({}),u=(0,a.f3)("withFootHeight");return{session:e.getters["auth/getSession"],routeType:t.params.type,routeId:t.params.id,withFootHeight:u,load:l,type:s,id:c,entry:d,fetchComicByID:r,fetchNovelByID:n,formatDate:o,simpleFormatDate:i}},beforeRouteEnter(t,e,r){r((async t=>{const{session:e,routeType:r,routeId:a,fetchNovelByID:n,fetchComicByID:o}=t;if(t.type=r,t.id=a,"novel"===r)t.entry=await n(e,a);else{if("comic"!==r)return!1;t.entry=await o(e,a)}return t.load=!1,!0}))}}),Z=r(89);const R=(0,Z.Z)(U,[["render",N],["__scopeId","data-v-34517f62"]]);var W=R}}]);
//# sourceMappingURL=info.96986776.js.map