"use strict";(self["webpackChunksilverfish"]=self["webpackChunksilverfish"]||[]).push([[996],{3849:function(t,e,r){r.d(e,{Z:function(){return A}});var n=r(3396),a=r(6265),o=r.n(a),i=(r(7658),r(1474));function s(t,e,r,n,a,o,i){try{var s=t[o](i),l=s.value}catch(c){return void r(c)}s.done?e(l):Promise.resolve(l).then(n,a)}function l(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){s(o,n,a,i,l,"next",t)}function l(t){s(o,n,a,i,l,"throw",t)}i(void 0)}))}}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _="axios-retry";function f(t){return!t.response&&Boolean(t.code)&&"ECONNABORTED"!==t.code&&i(t)}var p=["get","head","options"],h=p.concat(["put","delete"]);function E(t){return"ECONNABORTED"!==t.code&&(!t.response||t.response.status>=500&&t.response.status<=599)}function m(t){return!!t.config&&(E(t)&&-1!==p.indexOf(t.config.method))}function v(t){return!!t.config&&(E(t)&&-1!==h.indexOf(t.config.method))}function g(t){return f(t)||v(t)}function y(){return 0}function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=100*Math.pow(2,t),r=.2*e*Math.random();return e+r}function T(t){var e=t[_]||{};return e.retryCount=e.retryCount||0,t[_]=e,e}function w(t,e){return u(u({},e),t[_])}function C(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}function D(t,e,r,n){return b.apply(this,arguments)}function b(){return b=l((function*(t,e,r,n){var a=r.retryCount<t&&e(n);if("object"===typeof a)try{var o=yield a;return!1!==o}catch(i){return!1}return a})),b.apply(this,arguments)}function O(t,e){t.interceptors.request.use((t=>{var e=T(t);return e.lastRequestTime=Date.now(),t})),t.interceptors.response.use(null,function(){var r=l((function*(r){var{config:n}=r;if(!n)return Promise.reject(r);var{retries:a=3,retryCondition:o=g,retryDelay:i=y,shouldResetTimeout:s=!1,onRetry:l=(()=>{})}=w(n,e),c=T(n);if(yield D(a,o,c,r)){c.retryCount+=1;var u=i(c.retryCount,r);if(C(t,n),!s&&n.timeout&&c.lastRequestTime){var d=Date.now()-c.lastRequestTime,_=n.timeout-d-u;if(_<=0)return Promise.reject(r);n.timeout=_}return n.transformRequest=[t=>t],l(c.retryCount,r,n),new Promise((e=>setTimeout((()=>e(t(n))),u)))}return Promise.reject(r)}));return function(t){return r.apply(this,arguments)}}())}O.isNetworkError=f,O.isSafeRequestError=m,O.isIdempotentRequestError=v,O.isNetworkOrIdempotentRequestError=g,O.exponentialDelay=R,O.isRetryableError=E;var N=r(4677);function A(){const t=(0,N.pm)(),e=(0,n.FN)()?.appContext.config.globalProperties.$endpoint,r=(0,n.FN)()?.appContext.config.globalProperties.$apiVersionRoute,a=`${e}${r}`,i=o().create({baseURL:`${a}/novels`}),s=o().create({baseURL:`${a}/comics`});function l(e){return new Promise(((r,n)=>i.get("",{headers:{Authorization:e}}).then((t=>t.data.success?r(t.data.data.map((t=>({...t,lastCrawlTime:new Date(t.lastCrawlTime)})))):n(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function c(e,r){return new Promise(((n,a)=>i.get(`/${r}`,{headers:{Authorization:e}}).then((t=>{if(t.data.success){const e=t.data.data;return n({isEnable:e.isEnable,novelID:e.novelID,author:e.author,description:e.description,dns:e.dns,url:e.url,title:e.title,cover_url:e.coverUrl,chapters:e.chapters,lastCrawlTime:new Date(e.lastCrawlTime)})}return a(t.data.data)})).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function u(e,r,n){return new Promise(((a,o)=>i.get(`/${r}/chapter/${n}`,{headers:{Authorization:e}}).then((t=>t.data.success?a(t.data.data):o(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function d(e){return new Promise(((r,n)=>s.get("",{headers:{Authorization:e}}).then((t=>t.data.success?r(t.data.data.map((t=>({...t,lastCrawlTime:new Date(t.lastCrawlTime)})))):n(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function _(e,r){return new Promise(((n,a)=>s.get(`/${r}`,{headers:{Authorization:e}}).then((t=>{if(t.data.success){const e=t.data.data;return n({comicID:e.comicID,author:e.author,description:e.description,dns:e.dns,url:e.url,title:e.title,cover_url:e.coverUrl,chapters:e.chapters,lastCrawlTime:new Date(e.lastCrawlTime)})}return a(t.data.data)})).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function f(e,r,n){return new Promise(((a,o)=>s.get(`/${r}/chapter/${n}`,{headers:{Authorization:e}}).then((t=>t.data.success?a(t.data.data):o(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}return O(i,{retries:3}),O(s,{retries:3}),{$endpointRoute:a,fetchNovels:l,fetchNovelByID:c,fetchNovelChapter:u,fetchComics:d,fetchComicByID:_,fetchComicChapter:f}}},1474:function(t){const e=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);t.exports=t=>!e.has(t&&t.code)},3905:function(t,e,r){r.r(e),r.d(e,{default:function(){return G}});var n=r(3396),a=r(7139);const o=t=>((0,n.dD)("data-v-04fcba98"),t=t(),(0,n.Cn)(),t),i={key:0},s=o((()=>(0,n._)("br",null,null,-1))),l={key:1,class:"row"},c={class:"col-12 col-md-2 offset-md-2"},u=["src","alt"],d={class:"col-10 offset-1 col-md-5 offset-md-0"},_={style:{"padding-top":"10px"}},f={style:{"text-align":"left"}},p={class:"d-none d-lg-block",style:{"text-align":"right"}},h=["href"],E={class:"btn-xs btn-color-2 intro"},m={class:"btn-xs btn-color-1 intro"},v=o((()=>(0,n._)("br",null,null,-1))),g={class:"d-md-none",style:{"text-align":"right"}},y=["href"],R={class:"btn-xs btn-color-2 intro"},T={class:"btn-xs btn-color-1 intro"},w=o((()=>(0,n._)("br",null,null,-1))),C=o((()=>(0,n._)("hr",null,null,-1))),D={style:{"text-align":"right"}},b={style:{"padding-top":"10px","text-align":"left"}},O=o((()=>(0,n._)("br",null,null,-1))),N={class:"col-10 offset-1"},A={class:"row"},I={class:"accordion",id:"accordionExample"},L=["id"],P=["data-bs-target","aria-controls"],U=["id","aria-labelledby"],S={class:"accordion-body row"};function $(t,e,r,o,$,x){const F=(0,n.up)("loading"),k=(0,n.up)("center"),H=(0,n.up)("big"),j=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",{id:"content",class:"container",style:(0,a.j5)({"min-height":t.withFootHeight+"px"})},[1==t.load?((0,n.wg)(),(0,n.iD)("div",i,[s,(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(F,{size:160})])),_:1})])):((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",c,[(0,n._)("img",{src:t.entry.cover_url,alt:t.entry.title},null,8,u)]),(0,n._)("div",d,[(0,n._)("div",_,[(0,n._)("div",null,[(0,n._)("div",f,[(0,n.Wm)(H,{class:"btn-xs intro"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)("novel"===t.type?"小說":"漫畫"),1)])),_:1}),(0,n._)("h4",null,[(0,n._)("strong",null,(0,a.zw)(t.entry.title),1)])]),(0,n._)("div",p,[(0,n._)("a",{href:t.entry.url},[(0,n._)("small",E,(0,a.zw)(t.entry.dns),1)],8,h),(0,n.Uk)("   "),(0,n._)("small",m,(0,a.zw)(t.formatDate(t.entry.lastCrawlTime,!0)),1),v]),(0,n._)("div",g,[(0,n._)("a",{href:t.entry.url},[(0,n._)("small",R,[(0,n.Wm)(j,{icon:"link"}),(0,n.Uk)(" Source ")])],8,y),(0,n.Uk)("   "),(0,n._)("small",T,(0,a.zw)(t.simpleFormatDate(t.entry.lastCrawlTime)),1),w])]),C,(0,n._)("h6",D,[(0,n._)("strong",null,(0,a.zw)(t.entry.author)+" / 著",1)])]),(0,n._)("div",b,[(0,n._)("p",null,(0,a.zw)(t.entry.description),1),O])]),(0,n._)("div",N,[(0,n._)("div",A,[(0,n._)("div",I,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.chapterGroups,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"accordion-item",key:e},[(0,n._)("h2",{class:"accordion-header",id:`heading-${e}`},[(0,n._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${e}`,"aria-expanded":"false","aria-controls":`collapseOne-${e}`},(0,a.zw)(`${t[0].title} ~ ${t[t.length-1].title}`),9,P)],8,L),(0,n._)("div",{id:`collapse-${e}`,class:"accordion-collapse collapse","aria-labelledby":`heading-${e}`,"data-bs-parent":"#accordionExample"},[(0,n._)("div",S,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t,(({title:t})=>((0,n.wg)(),(0,n.iD)("div",{class:"col-md-3 offset-md-0 col-11 offset-1 left middle",style:{padding:"3px 0"},key:t},(0,a.zw)(t),1)))),128))])],8,U)])))),128))])])])]))],4)}var x=r(4870),F=r(2483),k=r(3849),H=r(1883),j=(0,n.aZ)({setup(){const t=(0,F.tv)(),{params:e}=(0,F.yj)(),{fetchComicByID:r,fetchNovelByID:a}=(0,k.Z)(),{formatDate:o,simpleFormatDate:i,chunkArray:s}=(0,H.Z)(),l=(0,x.iH)(!0),c=(0,x.iH)(""),u=(0,x.iH)(""),d=(0,x.iH)({novelID:"",dns:"",url:"",chapters:[],isEnable:!0,title:"",author:"",description:"",cover_url:"",lastCrawlTime:new Date(0)}),_=(0,x.iH)([]),f=(0,n.f3)("withFootHeight"),p=(0,n.f3)("session");return(0,n.bv)((async()=>{l.value=!0;const{type:n,id:o}=e;switch(c.value=n,u.value=o,c.value){case"novel":d.value=await a(p.value,u.value);break;case"comic":d.value=await r(p.value,u.value);break;default:return t.go(-1)}return l.value=!1,null})),(0,n.YP)((()=>d.value.chapters),(t=>{const e=s(t,20);_.value=e,console.log(e)}),{immediate:!0,deep:!0}),{session:p,withFootHeight:f,load:l,type:c,id:u,entry:d,chapterGroups:_,fetchComicByID:r,fetchNovelByID:a,formatDate:o,simpleFormatDate:i}}}),B=r(89);const z=(0,B.Z)(j,[["render",$],["__scopeId","data-v-04fcba98"]]);var G=z}}]);
//# sourceMappingURL=info.b5811965.js.map