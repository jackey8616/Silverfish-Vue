"use strict";(self["webpackChunksilverfish"]=self["webpackChunksilverfish"]||[]).push([[996],{6170:function(t,e,a){a.d(e,{Z:function(){return l}});var r=a(3396),n=a(6265),o=a.n(n),i=a(4677);function l(){const t=(0,i.pm)(),e=(0,r.FN)()?.appContext.config.globalProperties.$endpoint,a=(0,r.FN)()?.appContext.config.globalProperties.$apiVersionRoute;function n(){return`${e}${a}`}function l(e){return new Promise(((a,r)=>o()({url:`${n()}/novels`,method:"GET",headers:{Authorization:e}}).then((t=>t.data.success?a(t.data.data.map((t=>({...t,lastCrawlTime:new Date(t.lastCrawlTime)})))):r(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function s(e,a){return new Promise(((r,i)=>o()({url:`${n()}/novel`,method:"GET",headers:{Authorization:e},params:{novel_id:a}}).then((t=>{if(t.data.success){const e=t.data.data;return r({isEnable:e.isEnable,novelID:e.novelID,author:e.author,description:e.description,dns:e.dns,url:e.url,title:e.title,cover_url:e.coverUrl,chapters:e.chapters,lastCrawlTime:new Date(e.lastCrawlTime)})}return i(t.data.data)})).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function c(e,a,r){return new Promise(((i,l)=>o()({url:`${n()}/chapter`,method:"GET",headers:{Authorization:e},params:{novel_id:a,chapter_index:r}}).then((t=>t.data.success?i(t.data.data):l(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function d(e){return new Promise(((a,r)=>o()({url:`${n()}/comics`,method:"GET",headers:{Authorization:e}}).then((t=>t.data.success?a(t.data.data.map((t=>({...t,lastCrawlTime:new Date(t.lastCrawlTime)})))):r(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function u(e,a){return new Promise(((r,i)=>o()({url:`${n()}/comic`,method:"GET",headers:{Authorization:e},params:{comic_id:a}}).then((t=>{if(t.data.success){const e=t.data.data;return r({comicID:e.comicID,author:e.author,description:e.description,dns:e.dns,url:e.url,title:e.title,cover_url:e.coverUrl,chapters:e.chapters,lastCrawlTime:new Date(e.lastCrawlTime)})}return i(t.data.data)})).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}function h(e,a,r){return new Promise(((i,l)=>o()({url:`${n()}/comic/chapter`,method:"GET",headers:{Authorization:e},params:{comic_id:a,chapter_index:r}}).then((t=>t.data.success?i(t.data.data):l(t.data.data))).catch((e=>t.error(`發生錯誤: ${e.toString()}`)))))}return{endpointRoute:n,fetchNovels:l,fetchNovelByID:s,fetchNovelChapter:c,fetchComics:d,fetchComicByID:u,fetchComicChapter:h}}},9716:function(t,e,a){a.r(e),a.d(e,{default:function(){return W}});var r=a(3396),n=a(7139);const o=t=>((0,r.dD)("data-v-5f8fff9a"),t=t(),(0,r.Cn)(),t),i={key:0},l=o((()=>(0,r._)("br",null,null,-1))),s={key:1,class:"row"},c={class:"col-12 col-md-2 offset-md-2"},d=["src","alt"],u={class:"col-10 offset-1 col-md-5 offset-md-0"},h={style:{"padding-top":"10px"}},m={style:{"text-align":"left"}},f={class:"d-none d-lg-block",style:{"text-align":"right"}},p=["href"],w={class:"btn-xs btn-color-2 intro"},v=(0,r.Uk)("   "),y={class:"btn-xs btn-color-1 intro"},_=o((()=>(0,r._)("br",null,null,-1))),g={class:"d-md-none",style:{"text-align":"right"}},D=["href"],C={class:"btn-xs btn-color-2 intro"},b=(0,r.Uk)(" Source "),x=(0,r.Uk)("   "),T={class:"btn-xs btn-color-1 intro"},$=o((()=>(0,r._)("br",null,null,-1))),z=o((()=>(0,r._)("hr",null,null,-1))),I={style:{"text-align":"right"}},k={style:{"padding-top":"10px","text-align":"left"}},E=o((()=>(0,r._)("br",null,null,-1))),B={class:"col-10 offset-1"},F={class:"row"};function N(t,e,a,o,N,P){const S=(0,r.up)("loading"),H=(0,r.up)("center"),A=(0,r.up)("big"),G=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",{id:"content",class:"container",style:(0,n.j5)({"min-height":t.withFootHeight+"px"})},[1==t.load?((0,r.wg)(),(0,r.iD)("div",i,[l,(0,r.Wm)(H,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,{size:160})])),_:1})])):((0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",c,[(0,r._)("img",{src:t.entry.cover_url,alt:t.entry.title},null,8,d)]),(0,r._)("div",u,[(0,r._)("div",h,[(0,r._)("div",null,[(0,r._)("div",m,[(0,r.Wm)(A,{class:"btn-xs intro"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)("novel"===t.type?"小說":"漫畫"),1)])),_:1}),(0,r._)("h4",null,[(0,r._)("strong",null,(0,n.zw)(t.entry.title),1)])]),(0,r._)("div",f,[(0,r._)("a",{href:t.entry.url},[(0,r._)("small",w,(0,n.zw)(t.entry.dns),1)],8,p),v,(0,r._)("small",y,(0,n.zw)(t.formatDate(t.entry.lastCrawlTime)),1),_]),(0,r._)("div",g,[(0,r._)("a",{href:t.entry.url},[(0,r._)("small",C,[(0,r.Wm)(G,{icon:"link"}),b])],8,D),x,(0,r._)("small",T,(0,n.zw)(t.simpleFormatDate(t.entry.lastCrawlTime)),1),$])]),z,(0,r._)("h6",I,[(0,r._)("strong",null,(0,n.zw)(t.entry.author)+" / 著",1)])]),(0,r._)("div",k,[(0,r._)("p",null,(0,n.zw)(t.entry.description),1),E])]),(0,r._)("div",B,[(0,r._)("div",F,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.entry.chapters,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"col-md-3 offset-md-0 col-11 offset-1 left middle",style:{padding:"3px 0"},key:t.title},(0,n.zw)(t.title),1)))),128))])])]))],4)}var P=a(4870),S=a(678),H=a(3196),A=a(6170),G=a(1883),U=(0,r.aZ)({setup(){const t=(0,S.yj)(),e=(0,H.oR)(),{fetchComicByID:a,fetchNovelByID:n}=(0,A.Z)(),{formatDate:o,simpleFormatDate:i}=(0,G.Z)(),l=(0,P.iH)(!0),s=(0,P.iH)(""),c=(0,P.iH)(""),d=(0,P.qj)({}),u=(0,r.f3)("withFootHeight");return{session:e.getters["auth/getSession"],routeType:t.params.type,routeId:t.params.id,withFootHeight:u,load:l,type:s,id:c,entry:d,fetchComicByID:a,fetchNovelByID:n,formatDate:o,simpleFormatDate:i}},beforeRouteEnter(t,e,a){a((async t=>{const{session:e,routeType:a,routeId:r,id:n,fetchNovelByID:o,fetchComicByID:i}=t;if(t.type=a,t.id=r,"novel"===a)t.entry=await o(e,r);else{if("comic"!==a)return!1;t.entry=await i(e,r)}return t.load=!1,!0}))}}),Z=a(89);const R=(0,Z.Z)(U,[["render",N],["__scopeId","data-v-5f8fff9a"]]);var W=R}}]);
//# sourceMappingURL=info.dadba97c.js.map