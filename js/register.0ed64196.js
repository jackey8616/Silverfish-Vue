"use strict";(self["webpackChunksilverfish"]=self["webpackChunksilverfish"]||[]).push([[685],{7676:function(e,t,n){n.d(t,{Z:function(){return s}});n(7658);var a=n(3396),r=n(4870);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var o=function(){var e=!1,t=[],n=function(){if(!e){e=!0;for(var n=0,a=t.length;n<a;n++)t[n]()}},a=function(n){e?n():t.push(n)},r={resolved:function(){return e},resolve:n,promise:{then:a}};return r},c=Object.prototype.hasOwnProperty;function l(){var e=o();return{notify:function(){e.resolve()},wait:function(){return e.promise},render:function(e,t,n){this.wait().then((function(){n(window.grecaptcha.render(e,t))}))},reset:function(e){"undefined"!==typeof e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(e)})))},execute:function(e){"undefined"!==typeof e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(e)})))},checkRecaptchaLoad:function(){c.call(window,"grecaptcha")&&c.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!e.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var u=l();"undefined"!==typeof window&&(window.vueRecaptchaApiLoaded=u.notify);var s=(0,a.aZ)({name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!0},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},emits:["render","verify","expired","error"],setup:function(e,t){var n=t.slots,o=t.emit,c=(0,r.iH)(null),l=(0,r.iH)(null),s=function(e){o("verify",e)},d=function(){o("expired")},p=function(){o("error")};return(0,a.bv)((function(){if(u.checkRecaptchaLoad(),e.loadRecaptchaScript&&!document.getElementById(e.recaptchaScriptId)){var t=document.createElement("script");t.id=e.recaptchaScriptId,t.src="https://"+e.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+e.language,t.async=!0,t.defer=!0,document.head.appendChild(t)}var a=i({},e,{callback:s,"expired-callback":d,"error-callback":p}),r=c.value,h=n["default"]?r.children[0]:r;u.render(h,a,(function(e){l.value=e,o("render",e)}))})),{root:c,widgetId:l,reset:function(){u.reset(l.value)},execute:function(){u.execute(l.value)}}},render:function(){var e,t=this.$slots["default"];return e="function"===typeof t?t():t,(0,a.h)("div",{ref:"root"},e)}})},2437:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var a=n(3396),r=n(7139),i=n(9242);const o=e=>((0,a.dD)("data-v-4196b226"),e=e(),(0,a.Cn)(),e),c={class:"row"},l={id:"form",class:"col-8 offset-2 col-md-6 offset-md-3"},u=o((()=>(0,a._)("ul",null,[(0,a._)("li",null,"壹、保持多裝置間閱讀書籤的紀錄可以同步。"),(0,a._)("li",null,[(0,a.Uk)("貳、針對每隻書蟲的閱讀習慣推薦相似的書籍。"),(0,a._)("small",null,"（未來功能）")]),(0,a._)("li",null,[(0,a._)("del",null,"參、大家都有註冊，好像我們沒有也不行。")])],-1))),s=o((()=>(0,a._)("p",null,"每個帳號的使用過程中，我們只會紀錄該帳號的註冊時間, 上次登錄時間及閱讀紀錄。",-1))),d=o((()=>(0,a._)("p",null,"註冊時並不會收集除帳號密碼外的任何額外資料，未來規劃也只會使用閱讀紀錄來做分析使用者習慣。",-1))),p=o((()=>(0,a._)("p",null,"如果您仍然有安全上的疑慮，可以使用簡單好記的帳號密碼申請即可。",-1))),h={class:"input-group mb-3"},f={key:0,class:"input-group-append"},v={class:"input-group mb-3"},w={key:0,class:"input-group-append"},g={class:"form-group",style:{"text-align":"right"}},y={class:"row"},b={class:"col-10 offset-1"},m={key:0,style:{"text-align":"left"}},_=["disabled"],k={key:1},R=o((()=>(0,a._)("br",null,null,-1)));function x(e,t,n,o,x,S){const H=(0,a.up)("big"),A=(0,a.up)("font-awesome-icon"),C=(0,a.up)("vue-recaptcha"),j=(0,a.up)("loading"),V=(0,a.up)("center");return(0,a.wg)(),(0,a.iD)("div",{id:"content",class:"container",style:(0,r.j5)({"min-height":`${e.withFootHeight}px`})},[(0,a._)("div",c,[(0,a._)("div",l,[(0,a._)("b",null,[(0,a.Wm)(H,null,{default:(0,a.w5)((()=>[(0,a.Uk)("為什麼需要註冊？")])),_:1})]),u,(0,a._)("b",null,[(0,a.Wm)(H,null,{default:(0,a.w5)((()=>[(0,a.Uk)("我的資料安全嗎？")])),_:1})]),s,d,p,(0,a._)("form",null,[(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.auth.account=t),class:"form-control",type:"text",placeholder:"帳號"},null,512),[[i.nr,e.auth.account]]),e.auth.account.length>0?((0,a.wg)(),(0,a.iD)("div",f,[(0,a._)("button",{onClick:t[1]||(t[1]=t=>e.auth.account=""),class:"btn btn-sm btn-light",type:"button",tabindex:"-1"},[(0,a.Wm)(A,{icon:["far","times-circle"]})])])):(0,a.kq)("",!0)]),(0,a._)("div",v,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.auth.password=t),class:"form-control",type:"password",placeholder:"密碼"},null,512),[[i.nr,e.auth.password]]),e.auth.password.length>0?((0,a.wg)(),(0,a.iD)("div",w,[(0,a._)("button",{onClick:t[3]||(t[3]=t=>e.auth.password=""),class:"btn btn-sm btn-light",type:"button",tabindex:"-1"},[(0,a.Wm)(A,{icon:["far","times-circle"]})])])):(0,a.kq)("",!0)]),(0,a._)("div",g,[(0,a.Wm)(C,{ref:"invisibleRecaptcha",size:"invisible",onVerify:e.onRecaptchaVerfiy,onExpired:e.onRecaptchaExpired,loadRecaptchaScript:!0,sitekey:"6LdgzKYUAAAAAG8KH1AHc_Xjj7yVcAYXZFj7PsPH"},null,8,["onVerify","onExpired"]),(0,a._)("div",y,[(0,a._)("div",b,[0==e.load?((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("input",{onClick:t[4]||(t[4]=t=>e.submitRegister()),disabled:e.valid(),class:"btn-sm btn-color-2",type:"button",value:"註冊"},null,8,_)])):((0,a.wg)(),(0,a.iD)("div",k,[R,(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(j,{size:80})])),_:1})]))])])])])])])],4)}n(7658);var S=n(4870),H=n(7676),A=n(2483),C=n(3196),j=n(2417),V=n(4677),E=(0,a.aZ)({components:{VueRecaptcha:H.Z},setup(){const e=(0,A.tv)(),t=(0,C.oR)(),n=(0,V.pm)(),{authRegister:r}=(0,j.Z)(),i=(0,a.f3)("withFootHeight"),o=(0,S.iH)(!1),c=(0,S.qj)({account:"",password:""}),l=(0,S.iH)(null),u=()=>""===c.account||""===c.password,s=()=>{o.value=!0,l.value.execute()},d=()=>l.value.reset(),p=a=>{r(a,c).then((a=>{t.dispatch("auth/login",a),n("註冊成功"),e.push({name:"list"})})).catch((e=>{"Recaptcha verify failed"===e.reason?n.error("Google Recaptch 驗證失敗！"):"account exists"===e.reason?n.error("帳號已存在！"):(n.error("未知錯誤！"),console.error(e)),d(),o.value=!1}))};return(0,a.bv)((()=>{"https:"!==window.location.protocol&&(window.location.href=`https:${window.location.href.substring(window.location.protocol.length)}`)})),{withFootHeight:i,load:o,auth:c,valid:u,submitRegister:s,onRecaptchaExpired:d,onRecaptchaVerfiy:p}}}),L=n(89);const I=(0,L.Z)(E,[["render",x],["__scopeId","data-v-4196b226"]]);var P=I}}]);
//# sourceMappingURL=register.0ed64196.js.map