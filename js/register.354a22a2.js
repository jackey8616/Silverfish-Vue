(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"41bb":function(t,e,i){},"935e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",style:{"min-height":t.$root.$data.withFootHeight+"px"},attrs:{id:"content"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 offset-2 col-md-6 offset-md-3",attrs:{id:"form"}},[i("b",[i("big",[t._v("為什麼需要註冊？")])],1),t._m(0),i("b",[i("big",[t._v("我的資料安全嗎？")])],1),i("p",[t._v("每個帳號的使用過程中，我們只會紀錄該帳號的註冊時間, 上次登錄時間及閱讀紀錄。")]),i("p",[t._v("註冊時並不會收集除帳號密碼外的任何額外資料，未來規劃也只會使用閱讀紀錄來做分析使用者習慣。")]),i("p",[t._v("如果您仍然有安全上的疑慮，可以使用簡單好記的帳號密碼申請即可。")]),i("form",[i("div",{staticClass:"input-group mb-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.auth.account,expression:"auth.account"}],staticClass:"form-control",attrs:{type:"text",placeholder:"帳號"},domProps:{value:t.auth.account},on:{input:function(e){e.target.composing||t.$set(t.auth,"account",e.target.value)}}}),t.auth.account.length>0?i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button",tabindex:"-1"},on:{click:function(e){t.auth.account=""}}},[i("font-awesome-icon",{attrs:{icon:["far","times-circle"]}})],1)]):t._e()]),i("div",{staticClass:"input-group mb-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.auth.password,expression:"auth.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密碼"},domProps:{value:t.auth.password},on:{input:function(e){e.target.composing||t.$set(t.auth,"password",e.target.value)}}}),t.auth.password.length>0?i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button",tabindex:"-1"},on:{click:function(e){t.auth.password=""}}},[i("font-awesome-icon",{attrs:{icon:["far","times-circle"]}})],1)]):t._e()]),i("div",{staticClass:"form-group",staticStyle:{"text-align":"right"}},[i("vue-recaptcha",{ref:"invisibleRecaptcha",attrs:{size:"invisible",loadRecaptchaScript:!0,sitekey:"6LdgzKYUAAAAAG8KH1AHc_Xjj7yVcAYXZFj7PsPH"},on:{verify:t.onRecaptchaVerfiy,expired:t.onRecaptchaExpired}}),i("div",{staticClass:"row"},[i("div",{staticClass:"col-10 offset-1"},[0==t.load?i("div",{staticStyle:{"text-align":"left"}},[i("input",{staticClass:"btn-sm btn-color-2",attrs:{disabled:t.valid(),type:"button",value:"註冊"},on:{click:function(e){return t.submitRegister()}}})]):i("div",[i("br"),i("center",[i("loading",{attrs:{size:80}})],1)],1)])])],1)])])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[t._v("壹、保持多裝置間閱讀書籤的紀錄可以同步。")]),i("li",[t._v("貳、針對每隻書蟲的閱讀習慣推薦相似的書籍。"),i("small",[t._v("（未來功能）")])]),i("li",[i("del",[t._v("參、大家都有註冊，好像我們沒有也不行。")])])])}],o=i("e096"),r={name:"register",components:{VueRecaptcha:o["a"]},data:function(){return{load:!1,auth:{account:"",password:""}}},mounted:function(){"https:"!=location.protocol&&(location.href="https:"+window.location.href.substring(window.location.protocol.length))},methods:{valid:function(){return""===this.auth.account||""===this.auth.password},submitRegister:function(){this.load=!0,this.$refs.invisibleRecaptcha.execute()},onRecaptchaExpired:function(){this.$refs.invisibleRecaptcha.reset()},onRecaptchaVerfiy:function(t){var e=this;this.$api.authRegister(t,this.auth).then((function(t){e.$vuex.commit("login",t),e.$toasted.success("註冊成功"),e.$router.push({name:"list"})})).catch((function(t){"Recaptcha verify failed"===t.reason?e.$toasted.error("Google Recaptch 驗證失敗！"):"account exists"===t.reason?e.$toasted.error("帳號已存在！"):(e.$toasted.error("未知錯誤！"),console.error(t)),e.onRecaptchaExpired(),e.load=!1}))}}},c=r,s=(i("be76"),i("2877")),u=Object(s["a"])(c,a,n,!1,null,"a73b8f40",null);e["default"]=u.exports},be76:function(t,e,i){"use strict";i("41bb")},e096:function(t,e,i){"use strict";function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},a.apply(this,arguments)}var n=function(){var t=!1,e=[],i=function(i){if(!t){t=!0;for(var a=0,n=e.length;a<n;a++)e[a](i)}},a=function(i){t?i():e.push(i)},n={resolved:function(){return t},resolve:i,promise:{then:a}};return n},o=Object.prototype.hasOwnProperty;function r(){var t=n();return{notify:function(){t.resolve()},wait:function(){return t.promise},render:function(t,e,i){this.wait().then((function(){i(window.grecaptcha.render(t,e))}))},reset:function(t){"undefined"!==typeof t&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(t)})))},execute:function(t){"undefined"!==typeof t&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(t)})))},checkRecaptchaLoad:function(){o.call(window,"grecaptcha")&&o.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!t.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var c=r();"undefined"!==typeof window&&(window.vueRecaptchaApiLoaded=c.notify);var s={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!1},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},beforeMount:function(){if(this.loadRecaptchaScript&&!document.getElementById(this.recaptchaScriptId)){var t=document.createElement("script");t.id=this.recaptchaScriptId,t.src="https://"+this.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+this.language,t.async=!0,t.defer=!0,document.head.appendChild(t)}},mounted:function(){var t=this;c.checkRecaptchaLoad();var e=a({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired,"error-callback":this.emitError}),i=this.$slots["default"]?this.$el.children[0]:this.$el;c.render(i,e,(function(e){t.$widgetId=e,t.$emit("render",e)}))},methods:{reset:function(){c.reset(this.$widgetId)},execute:function(){c.execute(this.$widgetId)},emitVerify:function(t){this.$emit("verify",t)},emitExpired:function(){this.$emit("expired")},emitError:function(){this.$emit("error")}},render:function(t){return t("div",{},this.$slots["default"])}};e["a"]=s}}]);
//# sourceMappingURL=register.354a22a2.js.map